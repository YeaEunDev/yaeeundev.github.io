---
title: "정규식(Regular Expression)"
date: 2019-08-30 22:15:00 - 0400
categories: update python Regular Expression regexr 
---

## 정규식(Regular Expression)

- 프로그래밍 언어
- **문자 기준**이며 줄이나 키워드 기준이 아니다.
- 특별한 의미를 가지고 있는 문자.
- 파이썬의 일부가 아니고 파이썬이랑 같이 사용한다.
- 소문자와 대문자 구분하기 때문에 정확히 적어줘야한다.
- 특수기능을 가진 문자를 검색하고 싶을 때 '\'를 붙이면 적으면 기능을 잃고 문자 자체가 된다.

'^' : 문장 시작 의미

'.' : 임의의 문자 한 글자

'*' : 앞의 문자가 여러 번 반복

'+' : 앞의 문자가 1번 이상 나타남

'\s' : 공백 문자

'\S' : 공백이 아닌 문자

###### EX
`^X.*:` : 문장 시작이 'X'이며 임의의 글자가 반복하다가 ':'로 끝나는 패턴

`^X-\S+:` : 문장 시작이 'X-'이며 공백이 아닌 문자가 1번이상 나타나다가 ':'로 끝나는 패턴

- - -

##### Python에서 정규식 이용
- `input re`를 이용하여 정규식 라이브러리 가져와야한다.
- `re.search()` : 매개 변수를 받아 문자열내에서 검색하는 함수

  python의 `find()` or `startswith()` 과 같은 역할을 수행.
 
  차이는 그냥 일반 함수 사용했는지 정규 표현을 사용했는지 뿐이다.
 
- `re.findall()` : 문자열을 순환하면서 **정해진 패턴**을 만족하면 추출하는 함수


- - -

##### 추출(Extracting)
- `findall()`은 주어진 패턴을 만족하는 문자열들의 리스트를 제공
- **[ ]** : 문자 하나를 의미하며 괄호 안 조건에 포함되는 문자.
- 조건 만족하는거 없으면 빈리스트 제공
- **( )** : 추출의 시작점과 끝점 지정 가능


**탐욕적 방식의 패턴 찾기(Greedy Matching)** 주의

- 만족하는 문자열이 여러개 있을 때 겹치면 기본적으로 **++문자열이 긴 것++**을 선택하여 보여준다.

- Non-Greedy Matching 즉 **문자열이 짧은 것**을 검색하고 싶을 때 '**?**'를 추가한다. 대부분 `*?` or `+?`를 추가하여 바꿔준다.

- - -

###### 패턴 추출 및 최댓값 찾기

```
import re							#정규식 라이브러리 가져오기
hand = open('mbox-short.txt')
numlist = list()
for line in hand:
    line = line.rstrip()
    stuff = re.findall('^X-DSPAM-Confidence: ([0-9.]+)', line)    #정규식 패턴에 만족하는 값 추출
    if len(stuff) != 1 :  continue       #정규식은 만족하지 않으면 빈리스트를 주기에 이 경우 아래 내용을 스킵하도록 한다.
    num = float(stuff[0])                #리스트의 첫번째 값을 추출한다.
    numlist.append(num)                  #추출값을 리스트에 추가한다.
print('Maximum:', max(numlist))		 #리스트에서 가장 큰 값을 프린트한다.
```
